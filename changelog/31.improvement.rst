Refactored the logs collector into a generic file collector
